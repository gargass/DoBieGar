{
    "contents" : "library(shiny)\nlibrary(survival)\n# library(survMisc)\nlibrary(stats)\nlibrary(DT)\n\nnowotwory <- list(\"GBMLGG\", \"BRCA\", \"KIPAN\", \"COADREAD\", \"STES\", \"GBM\", \"OV\",\n                  \"UCEC\", \"KIRC\", \"HNSC\", \"LUAD\", \"LGG\", \"LUSC\", \"THCA\")\n\nnames(nowotwory) <- c(\"GBMLGG - GBM + LGG\",\n                    \"BRCA - Breast invasive carcinoma\",\n                    \"KIPAN - Pan-kidney cohort\",\n                    \"COADREAD - Colorectal adenocarcinoma\",\n                    \"STES - Stomach and Esophageal carcinoma\",\n                    \"GBM - Glioblastoma multiforme\",\n                    \"OV - Ovarian serous cystadenocarcinoma\",\n                    \"UCEC - Uterine Corpus Endometrial Carcinoma\",\n                    \"KIRC - Kidney renal clear cell carcinoma\",\n                    \"HNSC - Head-Neck Squamous Cell Carcinoma\",\n                    \"LUAD - Lung adenocarcinoma\",\n                    \"LGG - Lower Grade Glioma\",\n                    \"LUSC - Lung squamous cell carcinoma\",\n                    \"THCA - Thyroid carcinoma\")\n\ngeny <- read.table('data/lista_interesujacych_genow.txt', h=T)\ngeny <- as.matrix(geny)\n\nshinyUI(fluidPage(\n  titlePanel(div(img(src=\"logo.png\", height = 100, width = 100), \"Genes mutations\")),\n  sidebarLayout(\n    sidebarPanel(\n      selectInput(\"geny\",\n                  \"Select gene\",\n                  geny,\n                  \"TP53\"),\n      selectizeInput(\"nowotwory\",\n                  \"Select cancer\",\n                  nowotwory,\n                  \"BRCA\", multiple = TRUE, options = list(maxItems = 4)),\n      tags$div(\n        HTML('<br/><br/><br/>\n             <font size=\"2\"><b>Details:</b><br/>\n             Full documentation is available '),\n        tags$a(\"here\",target=\"_blank\",href=\"doc.pdf\"),\n        HTML('.<br/><br/>\n             <b>Authors:</b><br/>\n             <a href=\"mailto:bielat.marlena@gmail.com\">Marlena Bielat</a><br/>\n             <a href=\"mailto:gosia.dobkowska@tlen.pl\">Ma≈Çgorzata Dobkowska</a><br/>\n             <a href=\"mailto:gargass@student.mini.pw.edu.pl\">Sebastian Gargas</a><br/></font>')\n      )\n    ),\n    \n    mainPanel(\n      tabsetPanel(\n        tabPanel(\"Instruction\", \n                 tags$h3(\"Welcome!\"),\n                 \n                 HTML('This aplication was created for research workshop conducted at the \n                       Faculty of Mathematics and Information Science at Warsaw University of Technology. \n                       This aplication allows you to browse the results of analysis of mutations of genes\n                       from The Cancer Genome Atlas \n                       (<a href=\"http://cancergenome.nih.gov\">http://cancergenome.nih.gov</a>) \n                       using RTCGA package \n                       (<a href=\"https://github.com/RTCGA/RTCGA.mutations\">https://github.com/RTCGA/RTCGA.mutations</a>).\n                      <br/><br/>\n                      '),\n                 \n                 tags$h4(\"Specification of data\"),\n                 HTML('<br/>\n                     <ul> \n                        <li> 14 types of cancer with data from at least 500 patients.</li> \n                        <li> 535 biomarkers - mutations on specific genes. </li> \n                        <li> Each gene considered by us has significant effect on \n                             survival of patients suffering from at least one of considered cancers. </li>\n                        <li> Keep in mind that mutations of genes are rare events.</li>\n                     </ul><br/>'),\n                 \n                 tags$h4(\"What you can find here?\"),\n                 HTML('\n                      At the beginning, select one of biomarkers which interests you, then select cancers for which you \n                      want to check gene mutation impact on survival time. You can choose at most 4 cancer types.\n                      On the another panels you can find following informations:\n                      <ul>\n                        <li> Summary of gene mutation: \n                          <ul>\n                                <li> Frequency of mutation for each cancers.</li>\n                                <li> Number of patients with mutation for each cancers.</li>\n                                <li> Significance of mutations to the patients survival for each cancers.</li>\n                          </ul>\n                        </li>\n                      <li> Survival curves: Presence of mutation: </li>\n                          <ul>\n                                <li> Kaplan-Meier curves estimated for two groups of patients: \n                                with and without any mutation of the selected gene in selected cancers.</li>\n                           </ul>\n                      </li>\n                      <li>Co-occuring genes:\n                          <ul>\n                            <li>List of all considered biomarkers with co-occurence with mutation on the selected gene measured by\n                          frequency patients with mutation on biomarker in row among patients with mutation on the selected gene\n                          and number of patients with both mutations in specified cancer types.</li>\n                          </ul>\n                      </li>\n                      <li>Survival curves: Variant Classification:\n                        <ul>\n                          <li>Kaplan-Meier curves estimated for the two \n                          groups of patients: with a specific type of mutation - Missense Mutation or Nonsense Mutation \n                          and with the other type of mutation of this gene.\n                        </ul>\n                      </li>\n                      <li>Frequency of mutation types:\n                        <ul>\n                          <li>Occurence of frequency of different types of mutations for \n                              a selected gene and selected cancers.</li>\n                        </ul>\n                      </li>\n                    </ul>')),\n        \n        tabPanel(\"Summary of gene mutation\", \n                 HTML('<br/> \n                 The following table contains informations about the frequency and number \n                 of patients with the mutation of the selected gene among patients suffering from different types of cancers.\n                 It also includes information about the significance of mutations to the\n                 patients survival measured by the p-value of the log-rank test.<br/><br/>'),\n                 dataTableOutput(\"table_new\")),\n        tabPanel(\"Survival curves: Presence of mutation\", \n                 HTML('<br/>The figures below ilustrate Kaplan-Meier curves for \n                 the given gene and the given cancers. The survival curves \n                 are estimated for the two groups of patients: \n                 the first one refers to the patients with a mutation of the given gene \n                 and the second one refers to the group of patients without any mutation \n                 of this gene.<br/><br/>'), plotOutput(\"survcurves_yesno\")),\n        tabPanel('Co-occuring genes', \n                 HTML('<br/> The table below presents informations about \n                  co-occurence mutations. For the selected gene and selected \n                  cancers a list of all considered biomarkers is given  \n                  with information about the occurrence of mutations of these \n                  genes among patients with mutation the selected gene in selected \n                  cancers types. In parentheses are given the number of \n                  patients with the mutation in selected genes.<br/><br/>'), \n                 dataTableOutput(\"co_occuring_table\")),\n        \n        \n        tabPanel(\"Survival curves: Variant Classification\", \n                 HTML('<br/> The following figures present the Kaplan-Meier curves \n                    for the given gene and given cancers, for the two main types \n                    of mutation. The survival curves are estimated for the two \n                    groups of patients: the first one refers to the patients with \n                    a specific type of mutation - Missense Mutation or Nonsense \n                    Mutation and the second one refers to the patients with the \n                    other type of mutation of this gene.\n                  <br/><br/>\n                  <TABLE  WIDTH=100%>\n                  <TR> \n                    <TD> <p align=\"center\"> <font size=\"3\"><b>Missense Mutation</b></font> </p> </TD> \n                    <TD> <p align=\"center\"> <font size=\"3\"><b>Nonsense Mutation</b></font> </p> </TD> \n                  </TR> </TABLE>'), \n                 plotOutput(\"survcurves_variant\")),\n        tabPanel(\"Frequency of mutation types\", \n                 HTML('<br/> The table below contains informations\n                      about the occurrence frequency of different types of \n                      mutations for a selected gene and selected cancers.\n                      In addition, we again show the level of occurrence of \n                      mutations in a given gene.<br/><br/>'), \n                 dataTableOutput(\"table_variant\"))\n        )\n      )\n    )\n  )\n  )",
    "created" : 1455409720285.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4274179225",
    "id" : "87BBADF",
    "lastKnownWriteTime" : 1455409842,
    "path" : "~/DoBieGar/ui.R",
    "project_path" : "ui.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}